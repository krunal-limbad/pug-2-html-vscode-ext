(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=n(81),a=n(496);e.activate=function(e){let t=new s(e);a.commands.registerCommand("extension.pug2html.enablePug2HtmlOnSave",(()=>{t.isEnabled=!0})),a.commands.registerCommand("extension.pug2html.disablePug2HtmlOnSave",(()=>{t.isEnabled=!1})),a.workspace.onDidChangeConfiguration((()=>{t.loadConfig()})),a.workspace.onDidSaveTextDocument((e=>{["jade","pug"].indexOf(e.languageId)>=0&&t.convertToHtml(e.fileName)}))},e.deactivate=function(){};class s{constructor(e){this._context=e,this._outputChannel=a.window.createOutputChannel("Pug 2 Html"),this.loadConfig()}sendLog(e,t){t&&(this._outputChannel.clear(),this._outputChannel.show(!0)),this._outputChannel.appendLine(e)}get isEnabled(){return!!this._context.globalState.get("isEnabled",!0)}set isEnabled(e){this._context.globalState.update("isEnabled",e),this.sendLog(`Convert Pug To HTML On Save ${this.isEnabled?"enabled":"disabled"}.`)}convertToHtml(e){let n=`pug "${e}"`;this._config.pretty.enable&&(n+=" -P");let o=(0,t.exec)(n);o?(o?.stderr?.on("data",(e=>this.sendLog(e,!0))),o.on("error",(e=>{this.sendLog(e.message,!0)}))):this.sendLog("child null",!0)}loadConfig(){this._config=a.workspace.getConfiguration("pug2html").get("extension")}}})(),module.exports=o})();